<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>A Tail of Debugging Issues</title>
    <link href="/stylesheets/application.css" rel="stylesheet" />
    <script src="/javascripts/site.js"></script>
  </head>
  <body class="flex h-full flex-col bg-zinc-50 dark:bg-black">
    <div class="fixed inset-0 flex justify-center sm:px-8">
      <div class="flex w-full max-w-7xl lg:px-8">
        <div class="w-full bg-white ring-1 ring-zinc-100 dark:bg-zinc-900 dark:ring-zinc-300/20"></div>
      </div>
    </div>
    <div class="relative">
      <header class="pointer-events-none relative z-50 flex flex-col">
  <div class="top-0 z-10 h-16 pt-6">
    <div class="sm:px-8 top-[var(--header-top,theme(spacing.6))] w-full">
      <div class="mx-auto max-w-7xl lg:px-8">
        <div class="relative px-4 sm:px-8 lg:px-12">
          <div class="mx-auto max-w-2xl lg:max-w-5xl">
            <div class="relative flex gap-4">
              <div class="flex flex-1">
                <div class="h-10 w-10 rounded-full bg-white/90 p-0.5 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:ring-white/10">
                  <a aria-label="Home" class="pointer-events-auto" href="/">
                    <img alt="" sizes="2.25rem"
                      src="/images/profile.png"
                      width="512" height="512" decoding="async" data-nimg="1"
                      class="rounded-full bg-zinc-100 object-cover dark:bg-zinc-800 h-9 w-9"
                      style="color: transparent;"></a></div>
              </div>
              <div class="flex flex-1 justify-end md:justify-center">
                <nav class="pointer-events-auto md:block">
                  <ul class="flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10">
                    <li>
                      <a href="/" class="relative block px-3 py-2 transition hover:text-rose-800 dark:hover:text-teal-400">About</a>
                    </li>
                    <li>
                      <a href="/articles.html" class="relative block px-3 py-2 transition hover:text-rose-800 dark:hover:text-teal-400">Articles</a>
                    </li>
                    <li>
                      <a href="/projects.html" class="relative block px-3 py-2 transition hover:text-rose-800 dark:hover:text-teal-400">Projects</a>
                    </li>
                  </ul>
                </nav>
              </div>
              <div class="flex justify-end md:flex-1">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

      <main>
        <div class="sm:px-8 mt-16 lg:mt-32">
          <div class="mx-auto max-w-7xl lg:px-8">
            <div class="relative px-4 sm:px-8 lg:px-12">
              <div class="mx-auto max-w-2xl lg:max-w-5xl">
                <div class="xl:relative">
                  <div class="mx-auto max-w-2xl">
                    <a href="/articles.html" aria-label="Go back to articles" class="group mb-8 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:ring-white/10 dark:hover:border-zinc-700 dark:hover:ring-white/20 lg:absolute lg:-left-5 lg:mb-0 lg:-mt-2 xl:-top-1.5 xl:left-0 xl:mt-0">
                      <svg viewBox="0 0 16 16" fill="none" aria-hidden="true" class="h-4 w-4 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400">
                        <path d="M7.25 11.25 3.75 8m0 0 3.5-3.25M3.75 8h8.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                      </svg>
                    </a>
                    <article>
                      <header class="flex flex-col">
                        <h1 class="mt-6 text-4xl font-bold tracking-tight text-zinc-800 dark:text-zinc-100 sm:text-5xl">
                          A Tail of Debugging Issues
                        </h1>
                        <time datetime="2022-09-05" class="order-first flex items-center text-base text-zinc-400 dark:text-zinc-500">
                          <span class="h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span>
                          <span class="ml-3">August 31, 2017</span>
                        </time>
                      </header>
                      <div class="mt-8 prose dark:prose-invert">
                        <p>There have been many times when I've been debugging a complicated issue. More often than not, it was something crazy that I had done and it seemed like a good idea at the time. Whether it is a endless recursive loop or just a good ole bug in the code.</p>

<p>We all have our own ways of debugging and sometimes they're really efficient. However, other times, they're just familiar so that is our first weapon of choice. Just because something is familiar does not make it efficient. Sometimes branching out and trying something new may not be efficient due to the initial learning curve.</p>

<p>However, this article will take two most likely familiar techniques and combine them into one simple, rememberable and powerful debugging technique. Some time ago, Aaron Patterson had written an article on <a href="http://tenderlovemaking.com/2016/02/05/i-am-a-puts-debuggerer.html">Puts Debugging</a> and it was a great read. Depending on our application and the complexity of the bug, this may not be enough.</p>

<h1 id="tail">Tail</h1>

<p>Within virtually every *nix system (Ubuntu, Centos, MacOS, etc.) there is a command that can show the last bits of a file. From your terminal within the application directory, you can run this command to see the last 100 lines of your file.</p>

<pre><code>tail -100 log/development.log
</code></pre>

<p>Pretty cool huh? While you have your application running on a separate terminal, you can use this command to view the logs as they occur.</p>

<pre><code>tail -f log/development.log
</code></pre>

<p>This is really powerful to see errors and other issues that may be happening. Any kind of successful request or failure will be logged here since within our <code>config/environments/development.rb</code> we have the following set by default.</p>

<pre><code>config.log\_level = :debug
</code></pre>

<p>If you don't have this in there, it will be <code>:debug</code> by default.</p>

<h1 id="grep">Grep</h1>

<p>Grep is another popular command that I use all the time. It makes life so much easier when parsing a file to fine something specific. To keep things simple, I can <code>grep</code> a the output of a file and it will only show the relevant information.</p>

<pre><code>cat Gemfile | grep source source 'https://rubygems.org'
</code></pre>

<table>
  <tbody>
    <tr>
      <td>So we can call something like <code>cat Gemfile</code> which would display the entire contents of our Gemfile in the terminal. Combine this with a pipe (</td>
      <td>) and <code>grep</code> with our search term and it returns the relevant results. Really cool!</td>
    </tr>
  </tbody>
</table>

<h1 id="tail--grep">Tail + Grep</h1>

<p>While reading the development logs is fairly straight forward once you are familiar with the output and you know what you're looking for, it is still cumbersome if there is a LOT of information that is getting returned on a single request. Sometimes, it's not as simple as reading the relevant bits since there is a bunch of distracting information in between.</p>

<p>So when I'm debugging an issue, whether it is a silly background job not running properly or some other nuance, I will throw something like this within my code to test.</p>

<p><img src="/articles/2017/08/31/a-tail-of-debugging-issues/image-10.png" alt="" /></p>

<p>This gives some separation of the logs and it also gives me a nice little wrapper to try and see what's going on. However, on complicated queries or requests, this may still get buried in the mix of the rest of the logs. Instead, we can simply do something like this within the relevant bit of code.</p>

<pre><code>Rails.logger.info "DEBUG::some\_var::#{some\_var}
</code></pre>

<p>And within my terminal, I'll tail the logs and grep for <code>DEBUG</code> with a command like this.</p>

<pre><code>tail -f log/development.log | grep DEBUG
</code></pre>

<p>Now, not only am I not bothered by the rest of the logs polluting my terminal, but I can clearly see when this bit of code has ran and also see the output without trying pick through a bunch of logs.</p>

<p>Happy Debugging!</p>

                      </div>
                    </article>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>

      <footer class="mt-32">
  <div class="sm:px-8">
    <div class="mx-auto max-w-7xl lg:px-8">
      <div class="border-t border-zinc-100 pt-10 pb-16 dark:border-zinc-700/40">
        <div class="relative px-4 sm:px-8 lg:px-12">
          <div class="mx-auto max-w-2xl lg:max-w-5xl">
            <div class="flex flex-col items-center justify-between gap-6 sm:flex-row">
              <div class="flex gap-6 text-sm font-medium text-zinc-800 dark:text-zinc-200">
                <a href="/articles.html" class="transition hover:text-rose-800 dark:hover:text-teal-400">Articles</a>
                <a href="/projects.html" class="transition hover:text-rose-800 dark:hover:text-teal-400">Projects</a>
              </div>
              <p class="text-sm text-zinc-400 dark:text-zinc-500">
                Â© 2023 Kimura Innovations, LLC.
                All rights reserved.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>
    </div>
  </body>
</html>


